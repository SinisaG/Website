<%inherit file="../layout.html" />
    <%block name="extra_head">
        <link type="text/css" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/themes/base/jquery-ui.css" rel="stylesheet" />
    </%block>

    <div class="pageWrapper">
        <h1>CoverflowJS Demo</h1>
        <div class="demo">
            <div class="wrapper">
                <div id="coverflow">
                    <img src="/static/dummy/gorillaz-plasticbeach.jpg" data-artist="Gorillaz" data-album="Plastic Beach"/>
                    <img src="/static/dummy/kingsofleon-comearoundsunshine.jpg" data-artist="Kings Of Leon" data-album="Come Around Sunshine"/>
                    <img src="/static/dummy/kidrock-bornfree.jpg" data-artist="Kid Rock" data-album="Born Free"/>
                    <img src="/static/dummy/recovery-recovery.jpg" data-artist="Eminem" data-album="Recovery"/>
                    <img src="/static/dummy/lilwayne-iamnotahumanbeing.jpg" data-artist="Lil Wayne" data-album="I Am Not A Human Being"/>
                    <img src="/static/dummy/taylorswift-speaknow.jpg" data-artist="Taylor Swift" data-album="Speak Now"/>
                    <img src="/static/dummy/thebandperry-thebandperry.jpg" data-artist="The Band Perry" data-album="The Band Perry"/>
                    <img src="/static/dummy/maroon5-handsallover.jpg" data-artist="Maroon 5" data-album="Hands All Over"/>
                    <img src="/static/dummy/mychemicalromance-dangerdays.jpg" data-artist="My Chemical Romance" data-album="Danger Days"/>
                    <img src="/static/dummy/ironmaiden-thefinalfrontier.jpg" data-artist="Iron Maiden" data-album="The Final Frontier"/>
                    <img src="/static/dummy/order of the black - black label society.jpg" data-artist="Order Of The Black" data-album="Black Label Society"/>
                    <img src="/static/dummy/usher-raymondvraymond.jpg" data-artist="Usher" data-album="Raymond V Raymond"/>
                </div>
            </div>
            <div id="imageCaption">
                Sample Text
            </div>
            <div id='slider'></div>
        </div>
        <div class="listholder">
            <div id="scroll-pane">
                <ul id="playlist" class="ui-widget ui-widget-content ui-corner-all">
                    <li class="ui-selected">
                        <a href="javascript:;">Gorillaz - Plastic Beach</a>
                    </li>
                    <li>
                        <a href="javascript:;">Kings Of Leon - Come Around Sunshine</a>
                    </li>
                    <li>
                        <a href="javascript:;">Kid Rock - Born Free</a>
                    </li>
                    <li>
                        <a href="javascript:;">Eminem - Recovery</a>
                    </li>
                    <li>
                        <a href="javascript:;">Lil Wayne - I Am Not A Human Being</a>
                    </li>
                    <li>
                        <a href="javascript:;">Taylor Swift - Speak Now</a>
                    </li>
                    <li>
                        <a href="javascript:;">The Band Perry - The Band Perry</a>
                    </li>
                    <li>
                        <a href="javascript:;">Maroon 5 - Hands All Over</a>
                    </li>
                    <li>
                        <a href="javascript:;">My Chemical Romance - Danger Days</a>
                    </li>
                    <li>
                        <a href="javascript:;">Iron Maiden - The Final Frontier</a>
                    </li>
                    <li>
                        <a href="javascript:;">Order Of The Black - Black Label Society</a>
                    </li>
                    <li>
                        <a href="javascript:;">Usher - Raymond V Raymond</a>
                    </li>
                </ul>
            </div>

            <div id="slider-wrap">
                <div id="slider-vertical"></div>
            </div>
        </div>

        <div class="pageInfo">
            Interaction supported: Cover-click, Slider, Playlist-click, Bi-Directional Keyboard Navigation, Mouse-Slide, MouseWheel, Swipe.
            <div style="margin-top: 20px; padding: 0pt 0.7em;" class="ui-state-highlight ui-corner-all">
                <p><span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-info"></span>
                    Compatible with jQueryUI 1.9+ and jQuery 1.8+
                </p>
            </div>
        </div>
    </div>


<%block name="scripts">
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.0/jquery-ui.min.js"></script>
    <script type="text/javascript" src="${STATIC_URL}scripts/libs/jquery.transit.js"></script>
    <script type="text/javascript" src="${STATIC_URL}scripts/libs/raf.js"></script>
    <script type="text/javascript" src="${STATIC_URL}scripts/libs/coverflow.js"></script>

    <script type="text/javascript">
        $(function(){

            var $coverflowContainer = $( '#coverflow' ),
                    $coverflowItems = $coverflowContainer.children(),
                    $imageCaption = $( '#imageCaption' ),
                    $slider = $( '#slider-vertical' ),
                    $playlistItems = $( '#playlist li' );


            $slider.slider({
                orientation: 'vertical',
                min: 0,
                max : $coverflowItems.length - 1,
                slide: function( event, ui ) {
                    $coverflowContainer.coverflow( 'select', ui.value );
                }
            });

            $coverflowContainer.coverflow({
                select : function( ev, ui ) {
                    $imageCaption.text(
                            ui.active.data( 'artist' ) + ' - ' + ui.active.data( 'album' )
                    );

                    $slider.slider( 'value', ui.index );

                    $playlistItems.removeClass( 'ui-selected' );
                    $playlistItems.eq( ui.index ).addClass( 'ui-selected' );
                }
            });

            $playlistItems.on( 'click', function( ev ) {
                ev.preventDefault();

                $coverflowContainer.coverflow( 'select', $playlistItems.index( $( this ) ) );
            });

        });
    </script>

</%block>